# ================================
# ClinAI Production Configuration
# ================================
# Copy this file to .env and fill in secure values
# DO NOT commit .env to git!

# ================================
# Database Configuration
# ================================
POSTGRES_USER=clinai_user
POSTGRES_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
POSTGRES_DB=clinai_production
# For external database (RDS, etc), use full connection string:
# DATABASE_URL=postgresql://user:password@host:5432/dbname

# ================================
# Redis Configuration
# ================================
REDIS_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# ================================
# MinIO Object Storage
# ================================
MINIO_ROOT_USER=clinai_admin
MINIO_ROOT_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD_MIN_16_CHARS
MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}
MINIO_ENDPOINT=minio:9000
MINIO_EXTERNAL_ENDPOINT=yourdomain.com
MINIO_BUCKET_NAME=clinai-storage

# ================================
# Application Security
# ================================
# Generate with: openssl rand -base64 64
SECRET_KEY=CHANGE_ME_USE_OPENSSL_RAND_BASE64_64
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Enable/disable authentication (set to true for production)
ENABLE_AUTH=true

# ================================
# Celery Configuration
# ================================
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# ================================
# Docker Registry
# ================================
REGISTRY_URL=localhost:5001
# For production, use a managed registry:
# REGISTRY_URL=your-registry.azurecr.io
# REGISTRY_USERNAME=your-username
# REGISTRY_PASSWORD=your-password

# ================================
# Application Configuration
# ================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Domain and CORS
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
DOMAIN=yourdomain.com

# ================================
# Rate Limiting
# ================================
RATE_LIMIT_ENABLED=true
# Format: "requests per time period" (e.g., "100 per hour", "10 per minute")
RATE_LIMIT_DEFAULT=100 per hour
RATE_LIMIT_BUILD=10 per hour
RATE_LIMIT_INFERENCE=50 per hour
RATE_LIMIT_UPLOAD=20 per hour

# ================================
# Resource Limits
# ================================
# Maximum upload file size (in MB)
MAX_UPLOAD_SIZE_MB=500

# Model build limits
MAX_BUILD_TIME_SECONDS=1800
MAX_BUILD_MEMORY_GB=4

# Inference limits
MAX_INFERENCE_TIME_SECONDS=300
MAX_INFERENCE_MEMORY_GB=4
MAX_INFERENCE_CPU_CORES=2

# Storage limits per user (in GB)
MAX_STORAGE_PER_USER_GB=10

# ================================
# Email Configuration (Optional)
# ================================
# For notifications and password resets
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# ================================
# Monitoring (Optional)
# ================================
# Sentry for error tracking
SENTRY_DSN=

# Metrics
PROMETHEUS_ENABLED=false
